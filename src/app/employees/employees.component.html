<div class="table-header">
  <h2>Employees</h2>
  <button pButton type="button" class="btn btn-success" (click)="addUser()">
    <i class="fas fa-plus"></i> Add User
  </button>
</div>

<p-table [value]="users">
  <ng-template pTemplate="header">
    <tr>
      <th>UserId</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Email</th>
      <th>Actions</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-user>
    <tr>
      <td>{{ user.userId }}</td>
      <td>{{ user.firstName }}</td>
      <td>{{ user.lastName }}</td>
      <td>{{ user.email }}</td>
      <td>
        <button pButton type="button" class="btn btn-primary" (click)="editUser(user)">
          <i class="fas fa-edit"></i>
        </button>
        <button pButton type="button" class="btn btn-danger" (click)="confirmDelete(user.userId)">
          <i class="fas fa-trash-alt"></i>
        </button>
      </td>
    </tr>
  </ng-template>
</p-table>

<p-dialog header="User Details" [(visible)]="displayDialog" [modal]="true" [style]="{width: '50vw'}">
  <div class="p-fluid">
    <div class="p-field">
      <label for="firstName">First Name</label>
      <input id="firstName" type="text" pInputText [(ngModel)]="selectedUser.firstName"/>
    </div>
    <div class="p-field">
      <label for="lastName">Last Name</label>
      <input id="lastName" type="text" pInputText [(ngModel)]="selectedUser.lastName"/>
    </div>
    <div class="p-field">
      <label for="email">Email</label>
      <input id="email" type="text" pInputText [(ngModel)]="selectedUser.email"/>
    </div>
    <div class="p-field">
      <label for="typeOfUser">Type of User</label>
      <input id="typeOfUser" type="text" pInputText [(ngModel)]="selectedUser.typeOfUser.description" disabled/>
    </div>
  </div>
  <p-footer>
    <button pButton type="button" label="Save" (click)="saveUser()"></button>
    <button pButton type="button" label="Cancel" (click)="displayDialog=false"></button>
  </p-footer>
</p-dialog>
